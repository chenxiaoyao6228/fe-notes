## 前言

本节实现canvas元素选中的功能，包括：

- 单个元素的选中
- 控制器的绘制
- 多个元素的框选

## 包围盒

包围盒顾名思义就是能够把物体全部包起来的盒子,常⻅的有 OBB、AABB、球模型等等

## More

碰撞检测算法主要包括：外接图形法，光线投影法，分轴定理与最小偏移向量法, 有兴趣可以去看看

## Prompt

作为一个canvas与javascript大师，请使用 AABB 包围盒模型，参照上面的代码风格，实现一个canvas元素选中效果，内容包括：

- canvas背景色为rgb(52, 87, 80)，占据window.innerWidth, window.innerHeight的全部区域
- 使用pointer事件兼容移动端和PC端, 需要对设备的dpi进行适配
- tools有三个按钮，选择，矩形和自由画笔, tools位于底部中间位置，可以切换进行绘制，切换之后用户可操控鼠标进行拖拽绘制，图形颜色为白色
- 需要有renderScene, renderElements, renderFreedraw, renderRect方法
- rect线宽为4，rect的起点为用户点击鼠标左键的位置，松开鼠标左键结束绘制，用户需要可以看到当前正在绘制的矩形
- freedraw线宽为4, 用户点击鼠标左键的位置作为起点开始绘制，不断添加points, 松开鼠标左键结束绘制， 自由画笔需要贝塞尔曲线优化圆滑度
- 绘制完成后的元素，在选择工具模式下，点击元素内任意一点元素可以被选中，选中后会出现控制器，选中后的元素可以移动，鼠标变为drag, 控制器是红色的
- 需要isDrawing, isRotating, isResiing等变量来记录当前的状态
- 需要有renderSelectionBorder方法渲染包围盒边框，把包围盒包起来
- 需要renderSelectionControl来渲染控制器，包括四个边角控制器 + 一个旋转控制器, 鼠标样式也需要做对应的调整
- 旋转控制器可以控制元素旋转，位于包围盒上方10px的位置, 半径为5px的圆形, 颜色为红色，填充
- 边框控制器可以拖动元素缩放， 位于元素的四个边角，大小为10px的矩形，颜色为红色，填充
- 需要以oop的形式进行编写，需要有良好的代码风格，模块化
- 需要支持批量选中，批量选中后可以进行移动，旋转， 需要有一个group类，可以把多个元素组合成一个group，group也可以被选中，group也可以被移动，旋转
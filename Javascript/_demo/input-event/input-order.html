<!DOCTYPE html>
<html>

<head>
    <title>HTML事件触发顺序演示</title>
    <style>
        html,
        body {
            margin: 10px;
        }

        input {
            min-width: 300px;
            padding: 5px 10px;
        }
    </style>
</head>

<body>
    <h2>输入事件触发顺序演示</h2>
    <input type="text" id="compositionDemo" placeholder="请将输入法切换到中文并输入" autofocus />
    <ul class="display"></ul>
    <script>
        function handleEvent(event) {
            const li = document.createElement('li')
            li.innerHTML = event.type
            document.querySelector(".display").appendChild(li)
        }
        [
            "compositionstart",
            "compositionupdate",
            "compositionend",
            "keydown",
            "keypress",
            "beforeinput",
            "keyup",
            "change",
        ].forEach((eventType) => {
            document
                .querySelector("#compositionDemo")
                .addEventListener(eventType, handleEvent);
        });
    </script>
</body>

</html>
## å‰è¨€

æœ¬æ–‡ä¸»è¦æ€»ç»“ä¸‹ä¸æ–‡æœ¬è¾“å…¥çš„ç›¸å…³çš„äº‹ä»¶ã€‚

æµ‹è¯•åœ°å€è§: ğŸ‘‰ [åœ¨çº¿æ•ˆæœé¢„è§ˆ](https://chenxiaoyao6228.github.io/html-preview/?https://github.com/chenxiaoyao6228/fe-notes/blob/main/Javascript/_demo/input-event/input-order.html)

## keydown äº‹ä»¶

ä»æŒ‰é’®æŒ‰ä¸‹åˆ°å¼¹èµ·ï¼Œä¼šä¾æ¬¡è§¦å‘`keydown`ã€ `beforeinput`, `keypress`ã€`keyup`äº‹ä»¶,

- `keydown`å’Œ`keyup`åˆ†åˆ«åœ¨ç”¨æˆ·æŒ‰ä¸‹ä¸æ¾å¼€æŒ‰é”®çš„æ—¶å€™è§¦å‘
- `keypress(ä¸æ¨è)`, `beforeinput` ä¼šåœ¨æŒ‰ä¸‹**å¯æ˜¾ç¤ºå†…å®¹ï¼ˆå­—ç¬¦é”®ï¼šæ•°å­—/å­—æ¯/ç¬¦å·ï¼‰**ååœ¨ keydown ä¹‹åè§¦å‘ï¼Œéå­—ç¬¦é”®(Enter, Backspace, Delete, Esc)åˆ™ä¸ä¼šã€‚

è¿™ä¹Ÿå°±æ„å‘³ç€å¦‚æœæˆ‘ä»¬æƒ³é˜»æ­¢é»˜è®¤çš„è¾“å…¥è¡Œä¸ºï¼Œå°±åªèƒ½åœ¨ keydown ä¸­è¿›è¡Œå¯¹åº”çš„å¤„ç†(æ­¤æ—¶æµè§ˆå™¨é»˜è®¤è¡Œä¸ºæœªå®Œæˆï¼Œè¾“å…¥æ¡†è¿˜æ²¡æœ‰æ›´æ–°æ˜¾ç¤º)ï¼Œ ä¸€èˆ¬ä¼šé…åˆ`event.key`æˆ–è€…`event.code`æ¥åˆ¤æ–­. å…³äº`keyCode`å¯ä»¥çœ‹çœ‹è¿™ç¯‡[å‘Šåˆ« JS keyCode](https://www.zhangxinxu.com/wordpress/2021/01/js-keycode-deprecated/)

## input äº‹ä»¶

å½“è¾“å…¥å…ƒç´ çš„å€¼å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå°†è§¦å‘"input"äº‹ä»¶ï¼Œ**æ— è®ºæ˜¯é”®ç›˜è¾“å…¥è¿˜æ˜¯é€šè¿‡ç²˜è´´ã€å‰ªåˆ‡ç­‰æ–¹å¼æ”¹å˜å€¼**ã€‚

"input"äº‹ä»¶çš„ç‰¹ç‚¹æ˜¯ï¼Œå®ƒå®æ—¶å“åº”ç”¨æˆ·è¾“å…¥ï¼Œå¹¶ä¸”å¯¹äºæ”¯æŒè‡ªåŠ¨å¡«å……å’Œé¢„æµ‹æ–‡æœ¬çš„æµè§ˆå™¨ï¼Œè¾“å…¥è¿‡ç¨‹ä¸­ä¹Ÿä¼šè§¦å‘è¯¥äº‹ä»¶ã€‚

## change äº‹ä»¶

"change"äº‹ä»¶åœ¨ç”¨æˆ·å®Œæˆè¾“å…¥å¹¶ä¸”**ç„¦ç‚¹ä»è¾“å…¥å…ƒç´ ç§»å¼€åè§¦å‘**ã€‚ä¸"input"äº‹ä»¶ä¸åŒï¼Œ"change"äº‹ä»¶åœ¨ç”¨æˆ·ç¡®è®¤å®Œæˆè¾“å…¥åæ‰ä¼šæ‰§è¡Œã€‚(å¯ä»¥ç•™æ„ä¸‹æ–‡æœ«çš„ gif å›¾)

åŒæ—¶ï¼Œå…¶ä»–çš„è¡¨å•è¡¨å•å…ƒç´ ä¹Ÿä¼šè§¦å‘`change`äº‹ä»¶: `radio`, `checkbox` `selection`, `input[type="file"]`, `input[type="date"]`

## composition åˆæˆäº‹ä»¶

"composition"äº‹ä»¶ä¸»è¦ç”¨äºå¤„ç†å¤æ‚çš„æ–‡æœ¬è¾“å…¥ï¼Œä¾‹å¦‚ä¸­æ–‡è¾“å…¥æ³•çš„å€™é€‰è¯é€‰æ‹©è¿‡ç¨‹ã€‚å®ƒåœ¨è¾“å…¥æ³•ç»„åˆæ–‡æœ¬æ—¶è§¦å‘ï¼Œè€Œä¸æ˜¯åœ¨æ¯æ¬¡è¾“å…¥å­—ç¬¦æ—¶è§¦å‘ã€‚

"compositionstart"äº‹ä»¶æ ‡å¿—ç€åˆæˆè¿‡ç¨‹çš„å¼€å§‹ï¼Œ"compositionupdate"äº‹ä»¶ç”¨äºåœ¨åˆæˆè¿‡ç¨‹ä¸­æ›´æ–°æ–‡æœ¬ï¼Œæœ€åï¼Œå½“åˆæˆæ–‡æœ¬ç¡®å®šæ—¶ï¼Œå°†è§¦å‘"compositionend"äº‹ä»¶ã€‚

> å¯¹äº React æ¥è¯´ï¼Œéœ€è¦åšç”¨æˆ·è¾“å…¥è¿‡æ»¤æ‹¦æˆªçš„æ—¶å€™ï¼Œä¸€å®šè¦è€ƒè™‘åˆæˆäº‹ä»¶ï¼Œä¸èƒ½ç®€å•åœ°ç”¨ onChange äº‹ä»¶

## ç”¨æˆ·è¾“å…¥äº‹ä»¶è§¦å‘é¡ºåº

åœ¨å­˜åœ¨ç”¨æˆ·è¾“å…¥æ³•è¾“å…¥çš„æ—¶å€™ï¼Œäº‹ä»¶çš„è§¦å‘é¡ºåºå¦‚å›¾ï¼š
![](https://cdn.jsdelivr.net/gh/chenxiaoyao6228/cloudimg@main/2023/html-input-order-composition.gif)

## æ€»ç»“

æœ¬æ–‡åªæ˜¯ç®€å•çš„åˆ—ä¸¾äº†ä¸€äº›æ–‡æœ¬è¾“å…¥ç›¸å…³çš„äº‹ä»¶ï¼Œå®é™…é¡¹ç›®ä¸­ä¼šé‡åˆ°æ¯”è¾ƒå¤šçš„å…¼å®¹æ€§é—®é¢˜ï¼Œéœ€è¦é’ˆå¯¹å¯¹åº”çš„é—®é¢˜è¿›è¡Œå¤„ç†ã€‚

## å‚è€ƒ

- [å‘Šåˆ« JS keyCode](https://www.zhangxinxu.com/wordpress/2021/01/js-keycode-deprecated/)
- [å¯èƒ½è¿™äº›æ˜¯ä½ æƒ³è¦çš„ H5 è½¯é”®ç›˜å…¼å®¹æ–¹æ¡ˆ](https://segmentfault.com/a/1190000018959389)
- [textarea çš„ä¸­æ–‡è¾“å…¥åˆ¤æ–­ä¸æœç‹—è¾“å…¥æ³•çš„ç‰¹æ®Šè¡Œä¸º](https://stackoverflow.com/questions/51395393/how-to-trigger-paste-event-manually-in-javascript)

## å‰è¨€

äº‹ä»¶(eg: scroll äº‹ä»¶, ä¸šåŠ¡è§¦å‘ onChange)çš„é¢‘ç¹è§¦å‘å¯èƒ½å¯¼è‡´é¡µé¢å¤§é‡è®¡ç®—å¹¶æŠ–åŠ¨ï¼Œä¸ºäº†è§„é¿è¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦ä¸€äº›æ‰‹æ®µäº†æ§åˆ¶äº‹ä»¶è§¦å‘çš„é¢‘ç‡ã€‚
åœ¨è¿™æ ·çš„èƒŒæ™¯ä¸‹ï¼Œthrottle(äº‹ä»¶èŠ‚æµ)å’Œ debounce(äº‹ä»¶é˜²æŠ–)å‡ºç°äº†ã€‚

è¿™ä¸¤è€…éƒ½ä»¥é—­åŒ…çš„å½¢å¼å‡ºç°ï¼Œè®°å½•è‡ªç”±å˜é‡ï¼Œå¹¶é€šè¿‡å®šæ—¶å‡½æ•°(setTimeout, requestAnimationFrame)è¿›è¡Œè§¦å‘.

### throttle(äº‹ä»¶èŠ‚æµ)

throttle[/'Î¸rÉ‘tl/]: èŠ‚æµé˜€ï¼Œæ²¹é—¨ï¼›åŠŸç‡ï¼Œé©¬åŠ›ï¼›æ°”ç®¡

> åªè®¤ç¬¬ä¸€æ¬¡ï¼š åœ¨æŸæ®µæ—¶é—´é—´éš”å†…ï¼Œä¸ç®¡è§¦å‘äº†å¤šå°‘æ¬¡ï¼Œéƒ½åªè®¤ç¬¬ä¸€æ¬¡è§¦å‘ï¼Œå¹¶åœ¨è®¡æ—¶ç»“æŸæ—¶å€™äºˆä»¥å“åº”

### åœºæ™¯ä¸¾ä¾‹ï¼š

- scroll äº‹ä»¶
- resize äº‹ä»¶
- mousemove äº‹ä»¶

### ä»£ç å®ç°

```js
function throttle(fn, timeout) {
  let last = 0;
  return function () {
    const context = this;
    const args = arguments;
    let now = Date.now();
    if (now - last < timeout) {
      return;
    }
    last = now;
    fn.apply(context, args);
  };
}

const throttle_scroll = throttle(onScroll, 1000);
document.addEventListener("scroll", throttle_scroll);
```

ğŸ‘‰ [åœ¨çº¿æ•ˆæœé¢„è§ˆ](https://chenxiaoyao6228.github.io/html-preview/?https://github.com/chenxiaoyao6228/fe-notes/blob/main/ä»£ç æ‰‹å†™é¢˜/_demo/throttle.html)

## debounce(äº‹ä»¶é˜²æŠ–)

debounce[/di'bauns/]: å»æŠ–åŠ¨

> åªè®¤æœ€åä¸€æ¬¡ï¼šåœ¨æŸæ®µæ—¶é—´å†…ï¼Œä¸ç®¡è§¦å‘äº†å¤šå°‘æ¬¡å›è°ƒï¼Œéƒ½åªè®¤æœ€åä¸€æ¬¡ã€‚

### åœºæ™¯ä¸¾ä¾‹ï¼š

- æœç´¢è¾“å…¥æ¡†/è‡ªåŠ¨å¡«å……ç»„ä»¶ï¼š åœ¨å›ºå®šçš„æ—¶é—´é—´éš”ä¹‹åï¼Œç”¨æˆ·è¾“å…¥ç¨³å®šä¹‹åå†è§¦å‘ search

### ä»£ç å®ç°

```js
function debounce(fn, timeout) {
  let timer = null;
  return function () {
    let context = this;
    let args = aruments;
    if (timer) {
      clearTimeout(timer);
    }
    timer = setTimeout(() => {
      fn.apply(context, args);
    }, timeout);
  };
}

const debounce_scroll = throttle(onScroll, 1000);
document.addEventListener("scroll", debounce_scroll);
```

ğŸ‘‰ [åœ¨çº¿æ•ˆæœé¢„è§ˆ](https://chenxiaoyao6228.github.io/html-preview/?https://github.com/chenxiaoyao6228/fe-notes/blob/main/ä»£ç æ‰‹å†™é¢˜/_demo/debounce.html)


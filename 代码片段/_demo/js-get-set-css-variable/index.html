<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root {
      --main-color: #3498db;
      --height-of-a: 10px;
      --height-of-b: 20px;
    }

    .header {
      height: 10px;
    }

    .box {
      width: 200px;
      height: 200px;
      background-color: var(--main-color);
      color: white;
      text-align: center;
      line-height: 200px;
      margin-bottom: 20px;
    }
  </style>
  <title>JS获取CSS变量演示</title>
</head>
<body>
  <div class="box">这是一个盒子</div>
  <button id="getButton">获取变量</button>
  <button id="setButton">设置变量</button>

  <script>
    // 获取根样式
    function getRootStyle(variableName) {
      const rootStyles = getComputedStyle(document.documentElement);
      return rootStyles.getPropertyValue(variableName);
    }

    // 修改根样式
    function changeRootStyle(variableName, newValue) {
      const rootStyles = document.documentElement.style;
      rootStyles.setProperty(variableName, newValue);
    }

    const getButton = document.getElementById('getButton');
    const setButton = document.getElementById('setButton');
    const box = document.querySelector('.box');

    // 添加事件监听器 - 获取变量
    getButton.addEventListener('click', () => {
      const variableName = '--main-color';
      const value = getRootStyle(variableName);
      alert(`${variableName} 的值是 ${value}`);
    });

    // 添加事件监听器 - 设置变量
    setButton.addEventListener('click', () => {
      const variableName = '--main-color';
      const newValue = '#e74c3c';
      changeRootStyle(variableName, newValue);
      box.style.backgroundColor = newValue;
    });
  </script>
</body>
</html>

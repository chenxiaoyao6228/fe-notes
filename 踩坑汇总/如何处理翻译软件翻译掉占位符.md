## å‰è¨€

åœ¨é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šä½¿ç”¨ç¿»è¯‘è½¯ä»¶æ¥è¿›è¡Œæ–‡æ¡ˆçš„ç¿»è¯‘ï¼Œä½†æ˜¯ç¿»è¯‘è½¯ä»¶ä¼šæŠŠå ä½ç¬¦ä¹Ÿç¿»è¯‘æŽ‰(æ¯”å¦‚{brandName} -> {Brandname})ï¼Œå¯¼è‡´æˆ‘ä»¬çš„å ä½ç¬¦æ— æ³•æ­£å¸¸ä½¿ç”¨ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å¯¹ç¿»è¯‘è½¯ä»¶ç¿»è¯‘æŽ‰çš„å ä½ç¬¦è¿›è¡Œå¤„ç†ã€‚


## è§£å†³æ–¹æ¡ˆ

åŸºæœ¬æ€è·¯æ˜¯ï¼šæ‹¿åˆ°å½“å‰çš„æ–‡æœ¬ï¼Œå°†å…¶ä¸­çš„å ä½ç¬¦æ›¿æ¢ä¸ºæœºå™¨ä¸ä¼šç¿»è¯‘çš„å ä½ç¬¦ï¼Œç„¶åŽå°†æ›¿æ¢åŽçš„æ–‡æœ¬è¿›è¡Œç¿»è¯‘ï¼Œæœ€åŽå°†ç¿»è¯‘åŽçš„æ–‡æœ¬ä¸­çš„å ä½ç¬¦æ›¿æ¢å›žæ¥ã€‚

ç›®å‰æµ‹è¯•è¿‡çš„ä¸ä¼šè¢«ç¿»è¯‘çš„æœ‰ä¸‹åˆ’çº¿(_)ï¼Œemoji(å¦‚ðŸ˜ƒ)

```js
/*
 * é˜²æ­¢æœºå™¨ç¿»è¯‘æŠŠå¯¹åº”çš„å ä½ç¬¦è¿›è¡Œç¿»è¯‘ï¼Œ å¦‚{brandName} -> {Brandname}
 * å› æ­¤é€šè¿‡æ›¿æ¢æ–‡æ¡ˆä¸ºæœºå™¨ä¸ä¼šç¿»è¯‘çš„å ä½ç¬¦, {brandName} -> {ðŸ˜ƒ}
 */
async function replaceAndRevertBackText(originValue, lang, key) {
    let textToTranslate = originValue;
    const matchesList = originValue.match(/{\w+}/g) || [];
    const keyMap = {};
    matchesList.forEach((match, i) => {
        const replaceKey = `{${'ðŸ˜ƒ'.repeat(i + 1)}}`;
        keyMap[replaceKey] = match;
        textToTranslate = textToTranslate.replace(match, replaceKey);
    });
    const translateResult = await getTranslate(textToTranslate, lang, key);
    const newMatches = translateResult.match(/{\w+}/g) || [];
    let res = translateResult;
    newMatches.forEach(match => {
        const replaceKey = keyMap[match];
        res = res.replace(match, replaceKey);
    });
    return res;
}
```